#usda 1.0

def "mdl"
{
    def "nvidia"
    {
        def "test_types"
        {
            def Material "materialWithEnum"
            {
#               int inputs:mode.connect = </mdl/nvidia/test_types/materialWithEnum/base/color_layer_mode.outputs:color_layer_blend>

                int inputs:mode = 0 (
                    renderType = "MDL enum"
                    sdrMetadata = {
                        string "enum" = "::base::color_layer_mode"
                    }
                )

				token outputs:surface.connect = </mdl/nvidia/test_types/materialWithEnum/Surface.outputs:out>

                def Shader "Surface"
                {
                    uniform token info:id = "::nvidia::test_types::materialWithEnum"
                    int inputs:mode.connect = </mdl/nvidia/test_types/materialWithEnum.inputs:mode>
                    token outputs:out
                }
				def "base"
				{
					def Shader "color_layer_mode"
					{
						int outputs:color_layer_add = 1
						int outputs:color_layer_average = 8
						int outputs:color_layer_blend = 0
						int outputs:color_layer_brightness = 5
						int outputs:color_layer_color = 6
						int outputs:color_layer_colorburn = 17
						int outputs:color_layer_colordodge = 15
						int outputs:color_layer_darken = 10
						int outputs:color_layer_difference = 13
						int outputs:color_layer_exclusion = 7
						int outputs:color_layer_hardlight = 19
						int outputs:color_layer_hardmix = 21
						int outputs:color_layer_hue = 26
						int outputs:color_layer_lighten = 9
						int outputs:color_layer_linearburn = 23
						int outputs:color_layer_lineardodge = 22
						int outputs:color_layer_multiply = 2
						int outputs:color_layer_negation = 12
						int outputs:color_layer_overlay = 4
						int outputs:color_layer_phoenix = 18
						int outputs:color_layer_pinlight = 20
						int outputs:color_layer_reflect = 16
						int outputs:color_layer_saturation = 27
						int outputs:color_layer_screen = 3
						int outputs:color_layer_softlight = 14
						int outputs:color_layer_spotlight = 24
						int outputs:color_layer_spotlightblend = 25
						int outputs:color_layer_sub = 11
					}
				}
			}
		}
	}
}