#usda 1.0

def "mdl"
{
    def "nvidia"
    {
        def "test_types"
        {
            def Material "materialWithStructure"
            {
                token inputs:structInput.connect = </mdl/nvidia/test_types/materialWithStructure/nvidia/test_types/example_struct_call_100.outputs:out>
                token outputs:surface.connect = </mdl/nvidia/test_types/materialWithStructure/Surface.outputs:out>

                def Shader "Surface"
                {
                    uniform token info:id = "::nvidia::test_types::materialWithStructure"
                    token inputs:structInput.connect = </mdl/nvidia/test_types/materialWithStructure.inputs:structInput>
                    token outputs:out
                }
            
				def "nvidia"
				{
					def "test_types"
					{
						def Shader "example_struct_call_100" # We create a pseudo-call for the structure to set the values for the fields
						{
							uniform token info:id = "::nvidia::test_types:: example_struct"
							float inputs:param_float = 2
							int inputs:param_int = 1
							token outputs:out
						}
					}
				}
			}
		}
    }
}
